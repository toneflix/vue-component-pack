"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),y=require("./form-group.vue.cjs");;/* empty css                    */const N=require("../utils/providers.cjs"),V=require("./form-actions.vue.cjs"),G={key:0,class:"group-separator"},$={key:1,class:"form-groups"},w={class:"group-title"},F={key:0,class:"group-subtitle"},q={key:0,class:"group-label"},U={key:0,class:"group-separator"},z=e.defineComponent({__name:"vue-forms",props:e.mergeModels({loading:{type:Boolean},useGrid:{type:Boolean},rounded:{type:Boolean},bordered:{type:Boolean},separator:{type:Boolean},groupMeta:{},hideSubmit:{type:Boolean},hideCancel:{type:Boolean},cancelLabel:{},submitLabel:{},showGroupLabels:{type:Boolean}},{fields:{default:()=>[]},fieldsModifiers:{},modelValue:{required:!0},modelModifiers:{}}),emits:e.mergeModels(["cancel","submit"],["update:fields","update:modelValue"]),setup(i,{emit:S}){const C=S,d=e.useModel(i,"fields"),a=e.useModel(i,"modelValue"),m=["input","select","checkbox","radio","switch"],c=e.computed(()=>d.value.some(o=>!!o.group)),M=e.computed(()=>E(d.value)),E=o=>{const t={},l=[];return c.value?(o.forEach(r=>{r.group?(t[r.group]||(t[r.group]=[]),t[r.group].push(r)):l.push(r)}),{...t,ungrouped:l}):{ungrouped:[]}},p=()=>{C("submit")};return(o,t)=>c.value?(e.openBlock(),e.createElementBlock("div",$,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value,(l,r)=>{var n,b,g,k,B,h,f,v;return e.openBlock(),e.createElementBlock(e.Fragment,null,[r&&o.separator?(e.openBlock(),e.createElementBlock("hr",{class:"group-separator",key:r+"separator"})):e.createCommentVNode("",!0),(n=o.groupMeta)!=null&&n[r]?(e.openBlock(),e.createElementBlock("div",{class:"group-header",key:r+"header"},[e.createElementVNode("h3",w,e.toDisplayString(o.groupMeta[r].title),1),o.groupMeta[r].subtitle?(e.openBlock(),e.createElementBlock("p",F,e.toDisplayString(o.groupMeta[r].subtitle),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),r?(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["group",{bordered:!((b=o.groupMeta)!=null&&b[r])&&o.bordered||!!((k=(g=o.groupMeta)==null?void 0:g[r])!=null&&k.bordered),rounded:!((B=o.groupMeta)!=null&&B[r])&&o.rounded||!!((f=(h=o.groupMeta)==null?void 0:h[r])!=null&&f.rounded)}]),key:r+"group"},[r!=="ungrouped"&&o.showGroupLabels&&!((v=o.groupMeta)!=null&&v[r])?(e.openBlock(),e.createElementBlock("label",q,e.toDisplayString(e.unref(N.titleCase)(String(r))),1)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["vue-forms",{"form-row":!o.useGrid,"form-grid":o.useGrid}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,s=>(e.openBlock(),e.createBlock(y.default,{key:s.name,field:s,"use-grid":o.useGrid,modelValue:a.value[s.name],"onUpdate:modelValue":u=>a.value[s.name]=u},e.createSlots({_:2},[e.renderList(m,u=>({name:u,fn:e.withCtx(L=>[e.renderSlot(o.$slots,u,e.mergeProps({ref_for:!0},L))])}))]),1032,["field","use-grid","modelValue","onUpdate:modelValue"]))),128))],2)],2)):e.createCommentVNode("",!0)],64)}),256)),o.separator&&(!o.hideSubmit||!o.hideSubmit)?(e.openBlock(),e.createElementBlock("hr",U)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"actions",{},()=>[e.createVNode(V.default,{loading:o.loading,"hide-submit":o.hideSubmit,"hide-cancel":o.hideCancel,"submit-label":o.submitLabel,"cancel-label":o.cancelLabel,onSubmit:p,onCancel:t[1]||(t[1]=l=>o.$emit("cancel"))},null,8,["loading","hide-submit","hide-cancel","submit-label","cancel-label"])])])):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["vue-forms",{"form-row":!o.useGrid,"form-grid":o.useGrid,bordered:o.bordered,rounded:o.rounded}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,l=>(e.openBlock(),e.createBlock(y.default,{key:l.name,field:l,"use-grid":o.useGrid,modelValue:a.value[l.name],"onUpdate:modelValue":r=>a.value[l.name]=r},e.createSlots({_:2},[e.renderList(m,r=>({name:r,fn:e.withCtx(n=>[e.renderSlot(o.$slots,r,e.mergeProps({ref_for:!0},n))])}))]),1032,["field","use-grid","modelValue","onUpdate:modelValue"]))),128)),o.separator&&(!o.hideSubmit||!o.hideSubmit)?(e.openBlock(),e.createElementBlock("hr",G)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"actions",{},()=>[e.createVNode(V.default,{loading:o.loading,"hide-submit":o.hideSubmit,"hide-cancel":o.hideCancel,"submit-label":o.submitLabel,"cancel-label":o.cancelLabel,onSubmit:p,onCancel:t[0]||(t[0]=l=>o.$emit("cancel"))},null,8,["loading","hide-submit","hide-cancel","submit-label","cancel-label"])])],2))}});exports.default=z;
