"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue");;/* empty css                    */const S=require("./form-group.vue.cjs"),p=require("../utils/providers.cjs"),y=require("./form-actions.vue.cjs"),$={class:"vue-forms-controller"},L={key:0,class:"group-separator"},N={key:1,class:"form-groups"},F={class:"group-title"},q={key:0,class:"group-subtitle"},w={key:0,class:"group-label"},U={key:0,class:"group-separator"},z=e.defineComponent({__name:"vue-forms",props:e.mergeModels({loading:{type:Boolean},useGrid:{type:Boolean},rounded:{type:Boolean},bordered:{type:Boolean},separator:{type:Boolean},groupMeta:{},hideSubmit:{type:Boolean},hideCancel:{type:Boolean},cancelLabel:{},submitLabel:{},showGroupLabels:{type:Boolean}},{fields:{default:()=>[]},fieldsModifiers:{},modelValue:{required:!0},modelModifiers:{}}),emits:e.mergeModels(["cancel","submit"],["update:fields","update:modelValue"]),setup(b,{emit:G}){const V=G,d=e.useModel(b,"fields"),t=e.useModel(b,"modelValue"),n=e.computed(()=>d.value.some(o=>!!o.group)),C=e.computed(()=>M(d.value)),M=o=>{const a={},l=[];return n.value?(o.forEach(r=>{var s;r.group?(a[r.group]||(a[r.group]=[]),(s=a[r.group])==null||s.push(r)):l.push(r)}),{...a,ungrouped:l}):{ungrouped:[]}},i=()=>{V("submit")};return(o,a)=>(e.openBlock(),e.createElementBlock("div",$,[n.value?(e.openBlock(),e.createElementBlock("div",N,[e.renderSlot(o.$slots,"prepend",{props:{formFields:d.value,isGrouped:n.value,useGrid:o.useGrid,bordered:o.bordered,rounded:o.rounded,hideSubmit:o.hideSubmit,separator:o.separator}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,(l,r)=>{var s,c,g,h,k,f,B,v;return e.openBlock(),e.createElementBlock(e.Fragment,null,[r&&o.separator?(e.openBlock(),e.createElementBlock("hr",{class:"group-separator",key:r+"separator"})):e.createCommentVNode("",!0),(s=o.groupMeta)!=null&&s[r]?(e.openBlock(),e.createElementBlock("div",{class:"group-header",key:r+"header"},[e.createElementVNode("h3",F,e.toDisplayString(o.groupMeta[r].title),1),o.groupMeta[r].subtitle?(e.openBlock(),e.createElementBlock("p",q,e.toDisplayString(o.groupMeta[r].subtitle),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),r?(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["group",{bordered:!((c=o.groupMeta)!=null&&c[r])&&o.bordered||!!((h=(g=o.groupMeta)==null?void 0:g[r])!=null&&h.bordered),rounded:!((k=o.groupMeta)!=null&&k[r])&&o.rounded||!!((B=(f=o.groupMeta)==null?void 0:f[r])!=null&&B.rounded)}]),key:r+"group"},[r!=="ungrouped"&&o.showGroupLabels&&!((v=o.groupMeta)!=null&&v[r])?(e.openBlock(),e.createElementBlock("label",w,e.toDisplayString(e.unref(p.titleCase)(String(r))),1)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["vue-forms",{"form-row":!o.useGrid,"form-grid":o.useGrid}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,m=>(e.openBlock(),e.createBlock(S.default,{key:m.name,field:m,"use-grid":!!o.useGrid,modelValue:t.value[m.name],"onUpdate:modelValue":u=>t.value[m.name]=u},e.createSlots({_:2},[e.renderList(e.unref(p.slotNames).filter(u=>!!o.$slots[u]),u=>({name:u,fn:e.withCtx(E=>[e.renderSlot(o.$slots,u,e.mergeProps({ref_for:!0},E))])}))]),1032,["field","use-grid","modelValue","onUpdate:modelValue"]))),128))],2)],2)):e.createCommentVNode("",!0)],64)}),256)),e.renderSlot(o.$slots,"default",{props:{formFields:d.value,isGrouped:n.value,useGrid:o.useGrid,bordered:o.bordered,rounded:o.rounded,hideSubmit:o.hideSubmit,separator:o.separator}}),o.separator&&(!o.hideSubmit||!o.hideSubmit)?(e.openBlock(),e.createElementBlock("hr",U)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"actions",{loading:!!o.loading,submit:i,cancel:()=>o.$emit("cancel")},()=>[e.createVNode(y.default,{loading:!!o.loading,"hide-submit":o.hideSubmit,"hide-cancel":o.hideCancel,"submit-label":o.submitLabel,"cancel-label":o.cancelLabel,onSubmit:i,onCancel:a[1]||(a[1]=l=>o.$emit("cancel"))},null,8,["loading","hide-submit","hide-cancel","submit-label","cancel-label"])])])):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["vue-forms",{"form-row":!o.useGrid,"form-grid":o.useGrid,bordered:o.bordered,rounded:o.rounded}])},[e.renderSlot(o.$slots,"prepend",{props:{formFields:d.value,isGrouped:n.value,useGrid:o.useGrid,bordered:o.bordered,rounded:o.rounded,hideSubmit:o.hideSubmit,separator:o.separator}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,l=>(e.openBlock(),e.createBlock(S.default,{key:l.name,field:l,"use-grid":!!o.useGrid,modelValue:t.value[l.name],"onUpdate:modelValue":r=>t.value[l.name]=r},e.createSlots({_:2},[e.renderList(e.unref(p.slotNames).filter(r=>!!o.$slots[r]),r=>({name:r,fn:e.withCtx(s=>[e.renderSlot(o.$slots,r,e.mergeProps({ref_for:!0},s))])}))]),1032,["field","use-grid","modelValue","onUpdate:modelValue"]))),128)),e.renderSlot(o.$slots,"default",{props:{formFields:d.value,isGrouped:n.value,useGrid:o.useGrid,bordered:o.bordered,rounded:o.rounded,hideSubmit:o.hideSubmit,separator:o.separator}}),o.separator&&(!o.hideSubmit||!o.hideSubmit)?(e.openBlock(),e.createElementBlock("hr",L)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"actions",{loading:!!o.loading,submit:i,cancel:()=>o.$emit("cancel")},()=>[e.createVNode(y.default,{loading:o.loading,"hide-submit":o.hideSubmit,"hide-cancel":o.hideCancel,"submit-label":o.submitLabel,"cancel-label":o.cancelLabel,onSubmit:i,onCancel:a[0]||(a[0]=l=>o.$emit("cancel"))},null,8,["loading","hide-submit","hide-cancel","submit-label","cancel-label"])])],2))]))}});exports.default=z;
