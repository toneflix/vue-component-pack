"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("vue"),w=e=>Object.fromEntries(Object.entries(e||{}).map(([r,t])=>[r,t[0]])),f=(e,r)=>{const t=c.ref(0),a=c.toValue(e);if(a&&a>0){t.value=a;const u=setInterval(()=>{t.value-=1e3,r&&r(t.value),t.value<=0&&clearInterval(u)},1e3)}return t};function v(e,r,t,a,u,i){const l=n=>{if(!e||n>=e.length){a();return}const s=e[n];let d=!1;if(s&&s(r,t,o=>{d=!0,o?a(o):l(n+1)},i,u),!d)throw new Error(`Middleware at index ${n} did not call next(). All middlewares must call next() to proceed.`)};l(0)}const h=async(e,r,t)=>e.setAuthHeaders?await e.setAuthHeaders({user:r,token:t}):e.getAuthHeaders?await e.getAuthHeaders({user:r,token:t}):{};exports.buildHeaders=h;exports.createCountdown=f;exports.reshapeError=w;exports.runMiddlewares=v;
